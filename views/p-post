<%- include('meta', { 
    currentPage: 'post', 
    postSlug: post.slug, 
    postTitle: post.title, 
    postContent: post.content 
}) %>
 <!-- Other meta tags -->
  <link rel="icon" href="/logo.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/logo.ico" type="image/x-icon">
<!-- Open Graph Meta Tags for Universal Sharing -->
<meta property="og:title" content="Arafat's Tech">
<meta property="og:description" content="<%= post.title %>">
<meta property="og:image" content="https://storage.arnms.com/og/Arafat-app.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:type" content="website">
<meta property="og:url" content="">
<meta property="og:site_name" content="Arafat's Tech">

<!-- Additional Open Graph for Facebook and Messenger -->
<meta property="fb:app_id" content="YOUR_FACEBOOK_APP_ID"> <!-- Replace with your Facebook App ID -->

<!-- Twitter Card Meta Tags for Sharing -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Arafat's Tech">
<meta name="twitter:description" content="<%= post.title %>">
<meta name="twitter:image" content="https://storage.arnms.com/og/Arafat-app.png">

<!-- Meta Tags for Instagram (Fallback to Open Graph) -->
<!-- Instagram uses OG tags but doesn’t support separate tags. -->
<meta name="instagram:card" content="summary_large_image">
  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://storage.arnms.com/style/app/post.css">
    <title><%= post.title %> • Arafat's Tech</title>


    <!-- Import Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <%- include('header') %>

    <div class="content__container">
        <h1><%= post.title %></h1>
        
         <!-- Post Meta Information -->
        <div class="content__post-meta">
            <% if (post.createdAt) { %>
                <div class="content__upload-info">
                    <i class="fa fa-calendar"></i> 
                    <script>
                        // Format posted date and time
                        const createdAt = new Date("<%= post.createdAt %>");
                        const options = {
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric',
                            weekday: 'short',
                            hour: 'numeric',
                            minute: 'numeric',
                            hour12: true
                        };
                        document.write("" + createdAt.toLocaleString('en-US', options));
                    </script>
                </div>

               <!-- Time since posted -->
                <div class="content__upload-info">
                    <i class="fa fa-clock"></i>
                    <script>
                        function timeSince(date) {
                            const seconds = Math.floor((new Date() - date) / 1000);
                            let interval = Math.floor(seconds / 31536000);
                            if (interval >= 1) return interval + " year" + (interval > 1 ? "s" : "") + " ago";
                            interval = Math.floor(seconds / 2592000);
                            if (interval >= 1) return interval + " month" + (interval > 1 ? "s" : "") + " ago";
                            interval = Math.floor(seconds / 86400);
                            if (interval >= 1) return interval + " day" + (interval > 1 ? "s" : "") + " ago";
                            interval = Math.floor(seconds / 3600);
                            if (interval >= 1) return interval + " hour" + (interval > 1 ? "s" : "") + " ago";
                            interval = Math.floor(seconds / 60);
                            if (interval >= 1) return interval + " minute" + (interval > 1 ? "s" : "") + " ago";
                            return "Just now";
                        }
                        document.write("" + timeSince(createdAt));
                    </script>
                </div>
            <% } else { %>
                <p><small>Upload date not available</small></p>
            <% } %>
        </div>
        
         <!-- <iframe src="https://iarafat.store/ai?title=<%= post.title %>" class="card-iframe" title="<%= post.title %>" scrolling="no"></iframe>-->

        <% if (post.image) { %>
    <% if (post.image.endsWith('.mp4')) { %>
        <div class="content__video-container">
            <video controls preload="auto">
                <source src="<%= post.image %>" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    <% } else if (post.image.endsWith('.jpg') || post.image.endsWith('.png') || post.image.endsWith('.gif')) { %>
        <div class="content__photo-container">
            <img src="<%= post.image %>" alt="Post Image" style="width: 100%; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
        </div>
    <% } %>
<% } %>

        <div class="content__padding"><%- post.content %></div>

       



        <!-- Back to Home button after date -->
        <div class="btn-grid">
            <a href="/">Back to Home</a>
        </div>
    </div>

    <%- include('footer') %>
</body>
</html>